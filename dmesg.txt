dmesg



名称
       dmesg - 打印或控制内核环形缓冲区

用法
       dmesg [options]

       dmesg --clear
       dmesg --read-clear [options]
       dmesg --console-level level
       dmesg --console-on
       dmesg --console-off

描述
       用于检查或控制内核环形缓冲区。
       
       默认动作是从内核环形缓冲区中读取所有信息。


选项
       --clear,  --read-clear, --console-on, --console-off 与
       --console-level选项互斥

       -C, --clear              
	      清空环形缓冲区。

       -c, --read-clear              
              打印后清空环形缓冲区。

       -D, --console-off
              禁用打印消息到控制台。

       -d, --show-delta
              显示消息之间用掉的时间戳和时间增量。 如果与--notime一起使用，则只打印没有时间戳的时间增量。

       -e, --reltime
              以可读格式显示本地时间和增量。

       -E, --console-on
              启用打印消息到控制台。

       -F, --file file
              写入日志到文件

       -f, --facility list
              将输出限制为定义的设施，用逗号分隔。
              例如：

                     dmesg --facility=daemon

              只会打印系统守护进程的信息，使用dmesg --help output列出所有支持打印的设施。

       -H, --human
              启用可读输出，参考 --color,  --reltime， --nopager.

       -h, --help
              显示此帮助并退出。
              

       -k, --kernel
              打印内核信息。

       -L, --color
              显示彩色消息。
	      

       -l, --level list
              限制输出级别，级别用逗号分隔。
              例如：

                     dmesg --level=err,warn

              只会打印级别为error和warning的信息。dmesg --help output 列出所有支持打印的级别。

       -n, --console-level level               
	      设置消息记录完成的级别到控制台。 级别是级别名称的级别编号或缩写。
              对于所有支持的级别，请参阅dmesg --help输出。

              例如: 
	             -n 1或-n alert
              
	      可以防止紧急（恐慌）消息以外的所有消息出现在控制台上。 所有级别的消息仍然写入
               /proc/kmsg，所以仍然可以使用syslogd（8）来精确控制内核消息的出现位置。 
 	      当使用-n选项时，dmesg将不会打印或清除内核环形缓冲区。

       -P, --nopager
              Do not pipe output into  a  pager,  the  pager  is  enabled  for
              --human output.
	

       -r, --raw
              Print  the  raw message buffer, i.e., do not strip the log level
              prefixes.

              Note that the real raw format depends  on  method  how  dmesg(1)
              reads  kernel messages. The /dev/kmsg uses different format than
              syslog(2).  For backward  compatibility  dmesg(1)  returns  data
              always  in syslog(2) format. The real raw data from /dev/kmsg is
              possible  to  read  for  example  by  command  'dd  if=/dev/kmsg
              iflag=nonblock'.

       -S, --syslog
              Force to use syslog(2) kernel interface to read kernel messages.
              The default is to use /dev/kmsg rather than syslog(2) since ker‐
              nel 3.5.0.

       -s, --buffer-size size
              Use  a  buffer of size to query the kernel ring buffer.  This is
              16392 by default.  (The default kernel syslog  buffer  size  was
              4096  at first, 8192 since 1.3.54, 16384 since 2.1.113.)  If you
              have set the kernel buffer to be larger than  the  default  then
              this option can be used to view the entire buffer.

       -T, --ctime
              Print human readable timestamps.  The timestamp could be inaccu‐
              rate!

              The time source used for the logs is not  updated  after  system
              SUSPEND/RESUME.

       -t, --notime
              Do not print kernel's timestamps.

       -u, --userspace
              Print userspace messages.

       -V, --version
              Output version information and exit.

       -w, --follow
              Wait for new messages. This feature is supported on systems with
              readable /dev/kmsg only (since kernel 3.5.0).

       -x, --decode
              Decode facility and level (priority) number  to  human  readable
              prefixes.

SEE ALSO
       syslogd(8)

AUTHORS
       Karel Zak ⟨kzak@redhat.com⟩
       Theodore Ts'o ⟨tytso@athena.mit.edu⟩

AVAILABILITY
       The  dmesg  command  is part of the util-linux package and is available
       from Linux Kernel  Archive  ⟨ftp://ftp.kernel.org/pub/linux/utils/util-
       linux/⟩.



util-linux                         July 2012                          DMESG(1)
